<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Duman AlanÄ±</title>
  <style>
    body{
      background:#111;
      color:white;
      font-family:Arial;
      text-align:center;
    }
    input{
      padding:10px;
      margin:5px;
      width:250px;
    }
    button{
      padding:10px 20px;
      background:#00ff88;
      border:none;
      cursor:pointer;
      margin:5px;
    }
    #panel{
      display:none;
    }
    iframe{
      margin-top:20px;
      width:100%;
      height:600px;
      border:none;
    }
  </style>
</head>
<body>

<h1>Duman AlanÄ±</h1>

<div id="auth">
  <h2>KayÄ±t Ol</h2>
  <input type="email" id="regEmail" placeholder="Email"><br>
  <input type="password" id="regPass" placeholder="Åžifre"><br>
  <button onclick="register()">KayÄ±t Ol</button>

  <h2>GiriÅŸ Yap</h2>
  <input type="email" id="logEmail" placeholder="Email"><br>
  <input type="password" id="logPass" placeholder="Åžifre"><br>
  <button onclick="login()">GiriÅŸ Yap</button>
</div>

<div id="panel">
  <h2>HoÅŸgeldin ðŸ‘‹</h2>
  <button onclick="logout()">Ã‡Ä±kÄ±ÅŸ Yap</button>

  <iframe src="https://softgamings12-gc-prod-bgsp.p4-pmmievrokhxky.com/?playerId=1627d_DemoUser&gameKey=FSHBLSlot&currencyCode=EUR&language=tr&mode=mobile&casinoId=187_SOFTGAMINGS12&demo=true"></iframe>
</div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
  import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAcywJ4bT_BvFntA53S9e1iM3Facr12qUo",
    authDomain: "duman-site.firebaseapp.com",
    projectId: "duman-site",
    storageBucket: "duman-site.firebasestorage.app",
    messagingSenderId: "208426888053",
    appId: "1:208426888053:web:df7f8c364bc66ffef8813c",
    measurementId: "G-9924X3BTF9"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  window.register = function(){
    const email = document.getElementById("regEmail").value;
    const pass = document.getElementById("regPass").value;

    createUserWithEmailAndPassword(auth, email, pass)
      .then(() => alert("KayÄ±t baÅŸarÄ±lÄ±!"))
      .catch(error => alert(error.message));
  }

  window.login = function(){
    const email = document.getElementById("logEmail").value;
    const pass = document.getElementById("logPass").value;

    signInWithEmailAndPassword(auth, email, pass)
      .then(() => alert("GiriÅŸ baÅŸarÄ±lÄ±!"))
      .catch(error => alert(error.message));
  }

  window.logout = function(){
    signOut(auth);
  }

  onAuthStateChanged(auth, (user) => {
    if(user){
      document.getElementById("auth").style.display="none";
      document.getElementById("panel").style.display="block";
    } else {
      document.getElementById("auth").style.display="block";
      document.getElementById("panel").style.display="none";
    }
  });

</script>

</body>
</html>
